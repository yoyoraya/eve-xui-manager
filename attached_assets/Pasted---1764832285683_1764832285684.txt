علت این مشکل ناهماهنگی در نحوه بررسی سطح دسترسی در صفحه **داشبورد** نسبت به سایر صفحات است.

در صفحه `Servers`، ما از اطلاعات موجود در **Session** استفاده می‌کنیم (که درست کار می‌کند)، اما در صفحه `Dashboard`، ما داریم مستقیماً از دیتابیس چک می‌کنیم و شرط را خیلی سخت‌گیرانه گذاشته بودیم (فقط چک می‌کرد `role` برابر `superadmin` باشد و فیلد قدیمی `is_superadmin` را نادیده می‌گرفت).

برای حل این مشکل، کافیست تابع `dashboard` در فایل `app.py` را اصلاح کنیم.

### اصلاح فایل `app.py`

در فایل `app.py`، تابع `dashboard` (حدود خط ۳۶۰) را پیدا کنید و آن را با کد زیر جایگزین کنید:

```python
@app.route('/')
@login_required
def dashboard():
    user = Admin.query.get(session['admin_id'])
    
    # Permission Check: Which servers can this user see?
    if user.role == 'reseller':
        allowed_ids = json.loads(user.allowed_servers) if user.allowed_servers else []
        if allowed_ids == '*': # Access all
            servers = Server.query.filter_by(enabled=True).all()
        else:
            servers = Server.query.filter(Server.id.in_(allowed_ids), Server.enabled == True).all()
    else:
        servers = Server.query.filter_by(enabled=True).all()
        
    return render_template('dashboard.html', 
                         servers=servers, 
                         server_count=len(servers),
                         admin_username=user.username,
                         # --- خط اصلاح شده در پایین ---
                         is_superadmin=(user.role == 'superadmin' or user.is_superadmin),
                         # -----------------------------
                         role=user.role,
                         credit=user.credit)
```

### توضیح تغییر:

قبلاً کد به صورت `is_superadmin=(user.role == 'superadmin')` بود.
اگر شما یک یوزر قدیمی داشتید که هنوز `role` آن ست نشده بود اما تیک `is_superadmin` را داشت، در داشبورد به عنوان کاربر عادی شناخته می‌شد و منوها مخفی می‌شدند.
با تغییر بالا `(user.role == 'superadmin' or user.is_superadmin)`، هر دو حالت بررسی می‌شود و منوها نمایش داده خواهند شد.

یک بار **Stop** و **Run** کنید، مشکل حل می‌شود.