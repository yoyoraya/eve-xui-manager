# Eve - Xui Manager v1.5.0

## [1.5.0] - 2025-12-16

Persian (ÙØ§Ø±Ø³ÛŒ):
- Ù†Ø³Ø®Ù‡ 1.5.0 Ø´Ø§Ù…Ù„ Ø¨Ù‡Ø¨ÙˆØ¯Ù‡Ø§ÛŒ Ø¸Ø§Ù‡Ø±ÛŒ Ùˆ ØªØ¬Ø±Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ ØµÙØ­Ù‡ "Finance" Ø§Ø³Øª:
	- Ø¨Ø§Ø²Ø·Ø±Ø§Ø­ÛŒ Ø¨Ø®Ø´ Summary Ø¨Ù‡ ØµÙˆØ±Øª ÛŒÚ© "feed" Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ø²Ø´Ø¯Ù† (lazy-load) Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´ Ø¨Ø§Ø± Ø§ÙˆÙ„ÛŒÙ‡ Ùˆ Ø¨Ù‡Ø¨ÙˆØ¯ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„.
	- Ø¯Ø± Ù†Ù…Ø§ÛŒØ´â€ŒÙ‡Ø§ÛŒ Ù…ÛŒØ§Ù†ÛŒ (â‰¤1100px) Ù…Ù‚Ø§Ø¯ÛŒØ± Overview Ø¯ÛŒÚ¯Ø± Ø¨Ø§ Ù†Ù‚Ø·Ù‡Ù” Ø§Ù†ØªÙ‡Ø§ÛŒÛŒ (ellipsis) Ø¨Ø±ÛŒØ¯Ù‡ Ù†Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯Ø› Ø§Ú©Ù†ÙˆÙ† Ø®Ø·â€ŒØ´Ú©Ù†ÛŒ ÙØ¹Ø§Ù„ Ùˆ Ú©Ù„Ù…Ù‡â€ŒØ´Ú©Ù†ÛŒ (`word-break`) Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯ ØªØ§ Ø§Ø² Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ù…ØªÙ† Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø´ÙˆØ¯.
	- Ø´Ø¨Ú©Ù‡Ù” Overview Ø¯Ø± ØªØ¨Ù„Øªâ€ŒÙ‡Ø§ Ø¨Ù‡ Ø¯Ùˆ Ø³ØªÙˆÙ† ØªØ¨Ø¯ÛŒÙ„ Ø´Ø¯Ù‡ (â‰¤900px) ØªØ§ ÙØ¶Ø§ÛŒ Ù‡Ø± Ø¢ÛŒØªÙ… Ø¨ÛŒØ´ØªØ± Ùˆ Ø®ÙˆØ§Ù†Ø§ØªØ± Ø´ÙˆØ¯.
	- Ù†Ù…Ø§ÛŒ Ú©Ø§Ø±Øªâ€ŒÚ¯ÙˆÙ†Ù‡Ù” Ø¬Ø¯ÙˆÙ„ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ Ø§Ú©Ù†ÙˆÙ† Ø§Ø² Ø¹Ø±Ø¶ â‰¤1024px ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯ (Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù…Ø­Ø¯ÙˆØ¯ Ø¨ÙˆØ¯) Ùˆ Ù…Ù‚Ø¯Ø§Ø± `Amount` Ø¯Ø± Ø§ÛŒÙ† Ù†Ù…Ø§ Ù‡Ù…â€ŒØ±Ø§Ø³ØªØ§ Ø´Ø¯Ù‡ ØªØ§ Ø§Ø² Ø§ÙØªØ§Ø¯Ù† Ø¨Ù‡ Ø®Ø· Ù¾Ø§ÛŒÛŒÙ† Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø´ÙˆØ¯.
	- Ø´Ø¨Ú©Ù‡Ù” ÙÛŒÙ„ØªØ±Ù‡Ø§ Ø¯Ø± ØµÙØ­Ù‡Ù” Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒÙ‡Ø§ Ø¯Ø± â‰¤1024px Ø¨Ù‡ Ø¯Ùˆ Ø³ØªÙˆÙ† Ù…Ù†ØªÙ‚Ù„ Ø´Ø¯Ù‡ ØªØ§ ÙÛŒÙ„Ø¯Ù‡Ø§ Ù‚Ø§Ø¨Ù„ Ø¯Ø³ØªØ±Ø³ Ùˆ Ù…Ø±ØªØ¨ Ø¨Ù…Ø§Ù†Ù†Ø¯.
	- Ø±Ù†Ú¯â€ŒÙ‡Ø§ Ùˆ Ø§Ø³ØªØ§ÛŒÙ„Ù badge Ù‡Ø§ÛŒ Ù†ÙˆØ¹ ØªØ±Ø§Ú©Ù†Ø´ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ø´Ø¯Ù†Ø¯ ØªØ§ Ø®ÙˆØ§Ù†Ø§ÛŒÛŒ Ø¨Ù‡ØªØ± Ø´ÙˆØ¯.
	- Ø§Ù†ØªØ®Ø§Ø¨Ú¯Ø± Ù…Ø§Ù‡ (Jalali) Ø¯Ø± Summary Ø¨Ù‡â€ŒØµÙˆØ±Øª Ø¯Ø±ÙˆÙ† Ø¨Ø¯Ù†Ù‡Ù” Summary Ù‚Ø±Ø§Ø± Ú¯Ø±ÙØªÙ‡ Ùˆ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù‡â€ŒÙ‡Ø§ Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø§Ø²Ú©Ø±Ø¯Ù† Summary Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ (lazy-load).
	- Ú†Ù†Ø¯ Ø§ØµÙ„Ø§Ø­ JavaScript Ø¨Ø±Ø§ÛŒ Ø§Ù…Ù†â€ŒØªØ± Ú©Ø±Ø¯Ù† Ø±Ù†Ø¯Ø±ØŒ Ø¨Ø±Ø·Ø±Ùâ€ŒÚ©Ø±Ø¯Ù† Ø¨Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒØŒ Ùˆ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ/ÙÛŒÙ„ØªØ± ØµØ­ÛŒØ­ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯.
	- ÙØ§ÛŒÙ„ Ù‚Ø¯ÛŒÙ…ÛŒ ØªÙ…Ù¾Ù„ÛŒØª `templates/financeold.html` Ø­Ø°Ù Ø´Ø¯ ØªØ§ Ø§Ø² Ø³Ø±Ø¯Ø±Ú¯Ù…ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø´ÙˆØ¯.
	- Ù†Ø³Ø®Ù‡Ù” Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¨Ù‡ `v1.5.0` Ø§Ø±ØªÙ‚Ø§ ÛŒØ§ÙØª.

English:
- v1.5.0 focuses on responsive and UX improvements for the Finance area (changes since v1.4.2):
	- Summary redesigned as a collapsible feed and lazy-loaded when opened to reduce initial load and improve mobile UX.
	- Overview numeric values no longer truncate with ellipsis on mid widths (â‰¤1100px); they now wrap and use word-break to prevent text overlap.
	- Overview grid switches to two columns on narrower tablets (â‰¤900px) to give each metric more space and improve readability.
	- Payments table now switches to a card (mobile) view up to 1024px (previously only on small screens); `Amount` is kept aligned to avoid line wrapping.
	- Filters grid is forced into two columns at â‰¤1024px for a cleaner, more usable filter layout.
	- Transaction type badges got consistent styling and color tokens for clearer visual identification.
	- The Jalali month picker for the summary is loaded inside the Summary body and months/data are lazy-loaded on expand.
	- Several JS improvements: safer rendering of dynamic content, better truncation handling, ordering/limits applied correctly in overview rendering.
	- Removed legacy template `templates/financeold.html` to avoid confusion.
	- Application version bumped to `v1.5.0`.

Notes:
- These changes are primarily client-side (templates, CSS, and frontend JS) and aim to improve usability at tablet and laptop breakpoints (around 900â€“1100px and 1024px).

## ğŸ› Bug Fixes & Improvements (previous)
- **Reseller Visibility**: Fixed issue where clients were hidden from resellers due to missing inbound IDs (implemented loose matching).
- **Traffic Formatting**: Improved traffic display to dynamically show KB/MB/GB/TB units.
- **UI Alignment**: Fixed action button alignment on desktop (right-aligned) and mobile (left-aligned).
- **Server List**: Fixed bug where server list in modals would be empty after status updates.
- **Search Autofill**: Implemented fix to prevent browser autofill on the search input.

# Eve - Xui Manager v1.0.0

## ğŸ‰ First Official Release

### Major Features
- **Multi-Server Management**: Support for unlimited X-UI panels (Sanaei 3X-UI & Alireza X-UI)
- **Enterprise Security**: Rate limiting, secure cookies, password hashing, failed login logging
- **Sub Port Configuration**: Custom subscription port per server to avoid conflicts
- **QR Code Management**: Three QR codes per client (Subscription, JSON, Direct)
- **Global Client Search**: Search clients across all servers in real-time
- **Responsive Dashboard**: Professional UI with mobile support
- **Admin Management**: Superadmin can manage other administrators
- **Traffic Tracking**: Real-time upload/download statistics
- **Client Actions**: Enable/Disable, Reset Traffic, Renew with expiry options

### Security Features
- âœ… Rate limiting (5 login attempts per minute)
- âœ… Secure session management with HTTPONLY & SAMESITE flags
- âœ… PBKDF2 password hashing with salt
- âœ… Failed login attempt logging
- âœ… Environment-based configuration
- âœ… Input validation and sanitization

### Tech Stack
- Backend: Python 3.11 with Flask
- Database: PostgreSQL
- Frontend: HTML5, CSS3, Vanilla JavaScript
- Security: Werkzeug, Flask-Limiter

### Default Credentials
- **Username**: `admin`
- **Password**: From `INITIAL_ADMIN_PASSWORD` env var (default: `admin`)
- âš ï¸ Change password after first login!

### Database Schema
- **Admins Table**: User management with secure password storage
- **Servers Table**: X-UI panel configurations with custom paths and ports
- **Sub Port Field**: New optional integer column for custom subscription ports

### Environment Variables Required
```
DATABASE_URL=postgresql://user:password@host/dbname
SESSION_SECRET=your_secret_key_here
INITIAL_ADMIN_PASSWORD=your_initial_password
```

### Known Limitations
- Rate limiting uses in-memory storage (suitable for single-server deployments)
- Session management is non-persistent across server restarts

### Installation & Setup
1. Clone the repository
2. Install dependencies: `pip install -r pyproject.toml`
3. Set environment variables
4. Run: `python app.py`
5. Access at: `http://localhost:5000`

### Support
For issues and feature requests, please open an issue on GitHub.

---
**Release Date**: December 1, 2025
**Status**: Stable
